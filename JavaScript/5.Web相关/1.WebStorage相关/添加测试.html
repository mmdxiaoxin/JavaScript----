<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Storage Test</title>
        <script>
            function updateStorage() {
                try {
                    const dataSize = 500 * 1024; // 500KB
                    const existingData = localStorage.getItem('testData') || '';
                    const newData = 'a'.repeat(dataSize);
                    const totalSize = (existingData.length + newData.length) / 1024; // 转换为KB

                    localStorage.setItem('testData', existingData + newData);
                    console.log(`存储成功，总共存储了 ${totalSize} KB 的数据。`);
                    document.getElementById(
                        'result',
                    ).innerText += `\n存储成功，总共存储了 ${totalSize} KB 的数据。`;
                } catch (error) {
                    console.error('存储失败:', error);
                    document.getElementById('result').innerText += '\n存储失败: 存储限额已满。';
                }
            }
        </script>
    </head>
    <body>
        <button onclick="updateStorage()">增加500KB的存储</button>
        <div id="result"></div>
    </body>
</html>
