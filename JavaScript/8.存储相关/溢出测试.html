<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Storage Limit Test</title>
    </head>

    <body>
        <script>
            function testStorageLimit(storageType) {
                try {
                    const storage = window[storageType];
                    const maxStorageSize = 5 * 1024 * 1024; // 5MB
                    const testData = 'a'.repeat(maxStorageSize); // 创建一个大小为5MB的测试数据

                    storage.setItem('testData', testData);
                    console.log(`${storageType} - Data stored successfully.`);

                    // 尝试读取存储的数据
                    const retrievedData = storage.getItem('testData');
                    console.log(`${storageType} - Retrieved data length:`, retrievedData.length);
                } catch (error) {
                    console.error(`${storageType} - Storage limit exceeded:`, error);
                }
            }

            // 测试 localStorage 存储空间限额
            console.log('Testing localStorage:');
            testStorageLimit('localStorage');

            // 测试 sessionStorage 存储空间限额
            console.log('\nTesting sessionStorage:');
            testStorageLimit('sessionStorage');
        </script>
    </body>
</html>
